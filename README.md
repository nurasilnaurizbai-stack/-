<!doctype html> <html lang="kk"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width,initial-scale=1" /> <title>Parfum ‚Äî –¢–æ–ª—ã“õ –¥–µ–º–æ –¥“Ø–∫–µ–Ω</title> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet"> <style> :root{ --bg:#f7f6f4; --card:#fff; --muted:#6b6b6b; --accent:#b8876a; --accent-2:#7b5a45; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; } *{box-sizing:border-box} body{margin:0;background:linear-gradient(180deg,var(--bg),#fff 60%);color:#222} .app{max-width:1180px;margin:0 auto;padding:18px} header{display:flex;justify-content:space-between;align-items:center;padding:12px 0} .brand{display:flex;gap:12px;align-items:center} .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#fff,#f3e9e4);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--accent-2);font-size:20px;box-shadow:0 8px 28px rgba(30,30,30,0.06)} .nav{display:flex;gap:10px;align-items:center} .nav a{color:#333;text-decoration:none;padding:8px 10px;border-radius:8px;font-weight:600} .nav a.active{background:#fff;box-shadow:0 8px 28px rgba(30,30,30,0.06)} .search{display:flex;gap:8px;align-items:center;background:#fff;padding:8px;border-radius:10px;box-shadow:0 8px 28px rgba(30,30,30,0.04)} .search input{border:0;outline:none;width:220px;padding:6px} .hero{height:46vh;border-radius:12px;margin-top:12px;padding:24px;color:#fff;display:flex;align-items:center;justify-content:space-between;position:relative;overflow:hidden;background:linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.02)),url('https://images.unsplash.com/photo-1529139574466-a303027c1d8b?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=') center/cover} .hero h1{font-size:36px;margin:0} .hero p{opacity:0.95} .controls{display:flex;justify-content:space-between;gap:12px;align-items:center;margin:22px 0;flex-wrap:wrap} .filters{display:flex;gap:8px;flex-wrap:wrap} .chip{padding:8px 12px;border-radius:999px;background:#fff;border:1px solid rgba(0,0,0,0.06);cursor:pointer;font-weight:600} .chip.active{background:var(--accent);color:#fff;border-color:transparent;box-shadow:0 8px 20px rgba(139,93,61,0.12)} .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px} @media(max-width:980px){.grid{grid-template-columns:repeat(2,1fr)}.search input{width:140px}} @media(max-width:640px){.grid{grid-template-columns:1fr}.hero{height:40vh;flex-direction:column;align-items:flex-start}} .card{background:var(--card);border-radius:12px;padding:14px;box-shadow:0 8px 28px rgba(30,30,30,0.06);border:1px solid rgba(0,0,0,0.03);display:flex;flex-direction:column;gap:12px;transition:transform .22s} .card:hover{transform:translateY(-6px)} .img{height:220px;border-radius:10px;overflow:hidden;background:linear-gradient(135deg,#f5f1ef,#fff);display:flex;align-items:center;justify-content:center} .img img{width:100%;height:100%;object-fit:cover;cursor:pointer} .meta{display:flex;justify-content:space-between;align-items:center} .price{font-weight:800;color:var(--accent-2)} .card-footer{display:flex;justify-content:space-between;align-items:center;gap:8px} .cart-btn{position:fixed;right:20px;bottom:20px;background:var(--accent);color:#fff;padding:12px 16px;border-radius:999px;box-shadow:0 12px 30px rgba(139,93,61,0.18);cursor:pointer;font-weight:800;z-index:120} .cart-panel{position:fixed;right:16px;top:80px;width:380px;max-height:80vh;background:#fff;border-radius:12px;padding:12px;box-shadow:0 20px 60px rgba(0,0,0,0.18);overflow:auto;display:none;z-index:130} .cart-panel.active{display:block} .cart-item{display:flex;gap:10px;align-items:center;padding:8px;border-bottom:1px solid rgba(0,0,0,0.04)} .cart-item img{width:72px;height:72px;border-radius:8px;object-fit:cover} .cart-footer{display:flex;justify-content:space-between;align-items:center;padding:12px 6px} .modal, .drawer{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:20px;z-index:140} .modal.active{display:flex} .product-modal{background:#fff;border-radius:12px;max-width:980px;width:100%;box-shadow:0 20px 60px rgba(0,0,0,0.3);display:flex;gap:16px;overflow:hidden} .modal-left{flex:1;padding:18px} .modal-right{width:360px;padding:18px;background:linear-gradient(180deg,#fff,#fbf7f5)} .form{background:#fff;padding:16px;border-radius:10px;box-shadow:0 8px 28px rgba(30,30,30,0.06);} .footer{margin-top:28px;padding:22px;text-align:center;color:var(--muted);font-size:13px} /* small */ .btn{background:var(--accent);border:0;padding:9px 12px;border-radius:8px;color:#fff;cursor:pointer} .btn.secondary{background:#fff;border:1px solid rgba(0,0,0,0.06);color:#222} .small{font-size:13px;color:var(--muted)} .kv{font-weight:800;color:var(--accent-2)} .feedback-list{max-height:180px;overflow:auto;padding:8px;border-radius:8px;border:1px dashed rgba(0,0,0,0.04);background:#fff} </style> </head> <body> <div class="app"> <header> <div class="brand"> <div class="logo">P</div> <div> <div style="font-weight:800">PARFUM</div> <div class="small">–†–µ—Å–º–∏ –ø–∞—Ä—Ñ—é–º–µ—Ä–∏—è –¥“Ø–∫–µ–Ω—ñ</div> </div> </div> <div style="display:flex;gap:12px;align-items:center"> <div class="search" role="search" aria-label="product search"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm7 1-4.35-4.35" stroke="#666" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg> <input id="searchInput" placeholder="–Ü–∑–¥–µ—É (–∞—Ç–∞—É, –±—Ä–µ–Ω–¥, —Å–∏–ø–∞—Ç—Ç–∞–º–∞)"/> </div> <nav class="nav" id="nav"> <a href="#/" data-route="/" class="nav-link active">–ë–∞—Å—Ç—ã</a> <a href="#/catalog" data-route="/catalog" class="nav-link">–ö–∞—Ç–∞–ª–æ–≥</a> <a href="#/contact" data-route="/contact" class="nav-link">–ë–∞–π–ª–∞–Ω—ã—Å</a> </nav> </div> </header> <section class="hero" id="hero"> <div> <h1>Luxury Perfume Collection</h1> <p>–®—ã–Ω–∞–π—ã –±—Ä–µ–Ω–¥—Ç–µ—Ä, —Ä–µ—Å–º–∏ –∫–µ–ø—ñ–ª–¥—ñ–∫ –∂”ô–Ω–µ –∂—ã–ª–¥–∞–º –∂–µ—Ç–∫—ñ–∑—É ‚Äî —Å—ñ–∑–¥—ñ“£ —Ç–∞–ª“ì–∞–º—ã“£—ã–∑“ì–∞ —Å–∞–π.</p> <div style="margin-top:12px"><button class="btn" id="toCatalog">–ö–∞—Ç–∞–ª–æ–≥“õ–∞ ”©—Ç—É</button></div> </div> <div style="text-align:right;color:rgba(255,255,255,0.9)"> <div class="small">“∞—Å—ã–Ω—ã—Å</div> <div style="font-weight:800;font-size:18px">–ñ–∞“£–∞ —Ç–æ–ø —Å–∞—É—ã“õ—Ç—ã—Ä—É!</div> </div> </section> <div class="controls"> <div class="filters" id="filterBrands"></div> <div style="display:flex;gap:8px;align-items:center"> <select id="sortSelect" style="padding:8px;border-radius:8px"> <option value="featured">“∞—Å—ã–Ω—É –±–æ–π—ã–Ω—à–∞</option> <option value="price-asc">–ë–∞“ì–∞ ‚Üë</option> <option value="price-desc">–ë–∞“ì–∞ ‚Üì</option> <option value="name-asc">–ê-–Ø</option> </select> <div style="display:flex;gap:8px;align-items:center"> <input id="minPrice" placeholder="min ‚Ç∏" style="width:90px;padding:8px;border-radius:8px;border:1px solid #eee"> <input id="maxPrice" placeholder="max ‚Ç∏" style="width:90px;padding:8px;border-radius:8px;border:1px solid #eee"> <button class="btn secondary" id="priceFilterBtn">–§–∏–ª—å—Ç—Ä</button> </div> </div> </div> <main id="view"> <section id="catalogView"> <div class="grid" id="productsGrid" aria-live="polite"></div> </section> <!-- Contact / feedback --> <section id="contactView" style="display:none;max-width:860px;margin:20px auto"> <h2>–ë–∞–π–ª–∞–Ω—ã—Å ‚Äî –û–±—Ä–∞—Ç–Ω—ã–π —Å–≤—è–∑—å</h2> <div style="display:grid;grid-template-columns:1fr 320px;gap:18px;margin-top:12px"> <form id="feedbackForm" class="form"> <div style="display:flex;flex-direction:column;gap:10px"> <input id="fbName" placeholder="–ê—Ç—ã“£—ã–∑" required style="padding:10px;border-radius:8px;border:1px solid #eee"> <input id="fbEmail" type="email" placeholder="Email" required style="padding:10px;border-radius:8px;border:1px solid #eee"> <textarea id="fbMsg" placeholder="–•–∞–±–∞—Ä–ª–∞–º–∞" rows="6" style="padding:10px;border-radius:8px;border:1px solid #eee"></textarea> <div style="display:flex;gap:8px;align-items:center"> <button class="btn" type="submit">–ñ—ñ–±–µ—Ä—É</button> <button class="btn secondary" type="button" id="saveDraft">–ñ–µ—Ä–≥—ñ–ª—ñ–∫—Ç—ñ —Å–∞“õ—Ç–∞—É</button> </div> </div> </form> <div> <div style="font-weight:700;margin-bottom:8px">–ñ—ñ–±–µ—Ä—ñ–ª–≥–µ–Ω —Ö–∞–±–∞—Ä–ª–∞–º–∞–ª–∞—Ä</div> <div class="feedback-list" id="feedbackList"></div> </div> </div> </section> </main> <div class="footer"> ¬© <span id="year"></span> PARFUM ‚Äî –ê–ª–º–∞—Ç—ã, “ö–∞–∑–∞“õ—Å—Ç–∞–Ω </div> <button class="cart-btn" id="openCartBtn">üõí <span id="cartCount">0</span></button> <aside class="cart-panel" id="cartPanel"> <div style="display:flex;justify-content:space-between;align-items:center;padding-bottom:8px"> <strong>–°–µ–±–µ—Ç</strong> <button class="btn secondary" id="closeCart">‚úï</button> </div> <div id="cartItems"></div> <div class="cart-footer"> <div><div class="small">–ñ–∞–ª–ø—ã</div><div class="kv" id="cartTotal">0 ‚Ç∏</div></div> <div style="display:flex;flex-direction:column;gap:8px"> <button class="btn" id="checkoutBtn">–¢–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä—É</button> <button class="btn secondary" id="clearCartBtn">–ë–æ—Å–∞—Ç—É</button> </div> </div> </aside> </div> <script> /* ========= DATA ========== */ /* 12+ –Ω–∞“õ—Ç—ã –±—Ä–µ–Ω–¥ —Å—É—Ä–µ—Ç—Ç–µ—Ä—ñ–Ω “õ–æ–ª–¥–∞–Ω–¥—ã“õ (–∞“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ —Å—ã—Ä—Ç“õ—ã URL). –ï–≥–µ—Ä –±—Ä–∞—É–∑–µ—Ä —Å—É—Ä–µ—Ç—Ç–µ—Ä–¥—ñ –±–ª–æ–∫—Ç–∞—Å–∞, –º”ô—Å–µ–ª–µ CORS –Ω–µ–º–µ—Å–µ —Å—ã—Ä—Ç“õ—ã —Å–∞–π—Ç —Å–∞—è—Å–∞—Ç—ã–Ω–∞–Ω –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω; –¥”ô–ª –æ—Å—ã–ª–∞–π CodePen/online —Ä–µ–¥–∞–∫—Ç–æ—Ä–¥–∞ –Ω–µ–º–µ—Å–µ ”©–∑ –±—Ä–∞—É–∑–µ—Ä–¥–µ —Ç–µ—Å—Ç—Ç–µ“£—ñ–∑. */ const PRODUCTS = [ {id:1,title:"Dior Sauvage",brand:"Dior",cat:"men",price:53000,img:"https://fimgs.net/mdimg/perfume/375x500.28828.jpg",desc:"–®”©–ø—Ç—ñ –∂”ô–Ω–µ ”©—Ä–Ω–µ–∫—Ç—ñ ”ô–ª–µ–º–¥—ñ–∫ —Ö–æ—à –∏—ñ—Å."}, {id:2,title:"Bleu de Chanel",brand:"Chanel",cat:"men",price:61000,img:"https://fimgs.net/mdimg/perfume/375x500.9922.jpg",desc:"–°–∞–ª“õ—ã–Ω, —à–ø–∏–ª—å–¥—ñ –∞“ì–∞—à—Ç—ã“õ —Ö–æ—à –∏—ñ—Å."}, {id:3,title:"Creed Aventus",brand:"Creed",cat:"men",price:125000,img:"https://cdn.shopify.com/s/files/1/0092/2808/7470/products/avntus_120_1200x.jpg?v=1606918610",desc:"–®–∞–π—ã—Ä–ª—ã –∂”ô–Ω–µ –∂–µ–º—ñ—Å—Ç—ñ –Ω–æ—Ç–∞–ª–∞—Ä."}, {id:4,title:"Armani Acqua di Gio",brand:"Armani",cat:"men",price:45000,img:"https://fimgs.net/mdimg/perfume/375x500.206.jpg",desc:"–¢–µ“£—ñ–∑–¥—ñ–∫ –∂”ô–Ω–µ —Å–µ—Ä–≥—ñ—Ç–µ—Ç—ñ–Ω –Ω–æ—Ç–∞–ª–∞—Ä."}, {id:5,title:"Versace Eros",brand:"Versace",cat:"men",price:39000,img:"https://fimgs.net/mdimg/perfume/375x500.17346.jpg",desc:"–®–∏—Ä–µ–∫ –ø–µ–Ω —Å–µ—Ä–ø—ñ–Ω–¥—ñ –µ—Ä–∫–µ–∫—Ç—ñ–∫."}, {id:6,title:"Tom Ford Oud Wood",brand:"Tom Ford",cat:"unisex",price:250000,img:"https://fimgs.net/mdimg/perfume/375x500.8277.jpg",desc:"–≠–∫–∑–æ—Ç–∏–∫–∞–ª—ã“õ –∞“ì–∞—à –∂”ô–Ω–µ —à”©–ø –Ω–æ—Ç–∞–ª–∞—Ä—ã."}, {id:7,title:"YSL Black Opium",brand:"YSL",cat:"women",price:17500,img:"https://fimgs.net/mdimg/perfume/375x500.25382.jpg",desc:"–ö–æ—Ñ–µ –º–µ–Ω –≥“Ø–ª–¥–µ—Ä “Ø–π–ª–µ—Å—ñ–º—ñ."}, {id:8,title:"Gucci Bloom",brand:"Gucci",cat:"women",price:47000,img:"https://fimgs.net/mdimg/perfume/375x500.43782.jpg",desc:"–ñ“±–º—Å–∞“õ –≥“Ø–ª –Ω–æ—Ç–∞–ª–∞—Ä—ã."}, {id:9,title:"Prada L'Homme",brand:"Prada",cat:"men",price:16000,img:"https://fimgs.net/mdimg/perfume/375x500.38660.jpg",desc:"–ö–ª–∞—Å—Å–∏–∫–∞–ª—ã“õ –∂”ô–Ω–µ –Ω”ô–∑—ñ–∫ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è."}, {id:10,title:"Burberry Her",brand:"Burberry",cat:"women",price:16800,img:"https://fimgs.net/mdimg/perfume/375x500.54092.jpg",desc:"–ñ–µ–º—ñ—Å—Ç—ñ –∂”ô–Ω–µ –≥“Ø–ª–¥—ñ —Ö–æ—à –∏—ñ—Å."}, {id:11,title:"Calvin Klein Euphoria",brand:"Calvin Klein",cat:"women",price:15500,img:"https://fimgs.net/mdimg/perfume/375x500.241.jpg",desc:"–¢”ô—Ç—Ç—ñ –∂”ô–Ω–µ –∞—à—ã“õ –Ω–æ—Ç–∞–ª–∞—Ä."}, {id:12,title:"Paco Rabanne Invictus",brand:"Paco Rabanne",cat:"men",price:18500,img:"https://fimgs.net/mdimg/perfume/375x500.14825.jpg",desc:"–ë–∞—Ç—ã–ª –∂”ô–Ω–µ —Å–ø–æ—Ä—Ç—Ç—ã“õ."}, {id:13,title:"Narciso Rodriguez Bleu Noir",brand:"Narciso Rodriguez",cat:"men",price:42000,img:"https://images-na.ssl-images-amazon.com/images/I/61d2vYqQ3BL._SL1200_.jpg",desc:"–¢–∞–∑–∞–ª—ã“õ –ø–µ–Ω —Ç–µ—Ä–µ“£–¥—ñ–∫."}, {id:14,title:"Chanel Coco Mademoiselle",brand:"Chanel",cat:"women",price:49000,img:"https://fimgs.net/mdimg/perfume/375x500.3333.jpg",desc:"–≠–ª–µ–≥–∞–Ω—Ç—Ç—ã –∫–ª–∞—Å—Å–∏–∫–∞."} ]; /* ========= STORAGE KEYS & STATE ========== */ const STORAGE = { CART: "parfum_cart_v1", FEEDBACK: "parfum_feedback_v1" }; let CART = JSON.parse(localStorage.getItem(STORAGE.CART) || "{}"); // {productId: qty} function saveCart(){ localStorage.setItem(STORAGE.CART, JSON.stringify(CART)); } /* ========= RENDER PRODUCTS ========= */ const productsGrid = document.getElementById("productsGrid"); const filterBrandsEl = document.getElementById("filterBrands"); const searchInput = document.getElementById("searchInput"); const sortSelect = document.getElementById("sortSelect"); const minPriceEl = document.getElementById("minPrice"); const maxPriceEl = document.getElementById("maxPrice"); const priceFilterBtn = document.getElementById("priceFilterBtn"); let VISIBLE = PRODUCTS.slice(); // current list function renderBrandFilters(){ const brands = Array.from(new Set(PRODUCTS.map(p=>p.brand))); filterBrandsEl.innerHTML = ""; const all = document.createElement("div"); all.className="chip active"; all.dataset.brand="all"; all.textContent="–ë–∞—Ä–ª—ã“ì—ã"; filterBrandsEl.appendChild(all); all.addEventListener("click", ()=>{ document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active')); all.classList.add('active'); applyFilters(); }); brands.forEach(b=>{ const el = document.createElement("div"); el.className="chip"; el.dataset.brand=b; el.textContent=b; el.addEventListener("click", ()=>{ document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active')); el.classList.add('active'); applyFilters(); }); filterBrandsEl.appendChild(el); }); } function renderProducts(list){ productsGrid.innerHTML = ""; if(!list.length){ productsGrid.innerHTML = "<div class='small center'>”®–Ω—ñ–º —Ç–∞–±—ã–ª–º–∞–¥—ã</div>"; return; } list.forEach(p=>{ const card = document.createElement("article"); card.className="card"; card.innerHTML = <div class="img"><img src="${p.img}" alt="${escapeHtml(p.title)}" data-id="${p.id}"></div> <div> <div class="meta"><div><div class="title">${escapeHtml(p.title)}</div><div class="small">${escapeHtml(p.brand)}</div></div><div class="price">${formatPrice(p.price)}</div></div> <div class="desc small">${escapeHtml(p.desc)}</div> </div> <div class="card-footer"> <div class="small">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${escapeHtml(p.cat)}</div> <div style="display:flex;gap:8px"> <button class="btn secondary" data-action="view" data-id="${p.id}">–ö”©—Ä—É</button> <button class="btn" data-action="add" data-id="${p.id}">–°–µ–±–µ—Ç–∫–µ</button> </div> </div> ; productsGrid.appendChild(card); }); } /* ========== FILTERS / SEARCH / SORT ========== */ function applyFilters(){ const q = (searchInput.value || "").trim().toLowerCase(); const brandEl = document.querySelector(".chip.active"); const brand = brandEl ? brandEl.dataset.brand : "all"; const min = Number(minPriceEl.value) || 0; const max = Number(maxPriceEl.value) || Infinity; const sort = sortSelect.value; let list = PRODUCTS.filter(p=>{ const okBrand = (brand==="all")?true:p.brand===brand; const okQ = !q ? true : (p.title+" "+p.brand+" "+p.desc).toLowerCase().includes(q); const okPrice = p.price >= min && p.price <= max; return okBrand && okQ && okPrice; }); if(sort==="price-asc") list.sort((a,b)=>a.price-b.price); if(sort==="price-desc") list.sort((a,b)=>b.price-a.price); if(sort==="name-asc") list.sort((a,b)=>a.title.localeCompare(b.title)); VISIBLE = list; renderProducts(list); } searchInput.addEventListener("input", debounce(applyFilters, 220)); sortSelect.addEventListener("change", applyFilters); priceFilterBtn.addEventListener("click", applyFilters); /* ========== PRODUCT CLICK DELEGATION ========== */ productsGrid.addEventListener("click", (e)=>{ const btn = e.target.closest("button"); if(btn){ const action = btn.dataset.action; const id = Number(btn.dataset.id); if(action==="add"){ addToCart(id,1); animateAdd(btn); } if(action==="view"){ openProductModal(id); } return; } // image clicked? const img = e.target.closest(".img img"); if(img){ const id = Number(img.dataset.id); openImageInModal(id); } }); /* ========== PRODUCT MODAL & IMAGE VIEW ========== */ const modal = document.createElement("div"); modal.className="modal"; modal.id="productModal"; modal.innerHTML = <div class="product-modal"><div class="modal-left" id="modalLeft"></div><div class="modal-right" id="modalRight"></div></div>; document.body.appendChild(modal); modal.addEventListener("click",(e)=>{ if(e.target===modal) closeModal(); }); function openProductModal(id){ const p = PRODUCTS.find(x=>x.id===id); if(!p) return; document.getElementById("modalLeft").innerHTML = <div style="height:420px;border-radius:10px;overflow:hidden"><img src="${p.img}" style="width:100%;height:100%;object-fit:cover"></div><div style="text-align:center;margin-top:8px"><a href="${p.img}" target="_blank" class="small">–°—É—Ä–µ—Ç—Ç—ñ –∞—à—É</a></div>; document.getElementById("modalRight").innerHTML = <div><h3 style="margin:0">${escapeHtml(p.title)}</h3><div class="small">${escapeHtml(p.brand)}</div><div style="margin-top:12px">${escapeHtml(p.desc)}</div><div style="margin-top:12px;font-weight:800">${formatPrice(p.price)}</div><div style="margin-top:16px;display:flex;gap:8px"><input id="modalQty" type="number" value="1" min="1" style="width:76px;padding:8px;border-radius:8px;border:1px solid #eee"><button class="btn" id="modalAddBtn">–°–µ–±–µ—Ç–∫–µ “õ–æ—Å—É</button></div></div>; modal.classList.add("active"); document.getElementById("modalAddBtn").onclick = ()=>{ const q = Math.max(1,Number(document.getElementById("modalQty").value)||1); addToCart(p.id,q); closeModal(); }; } function openImageInModal(id){ const p = PRODUCTS.find(x=>x.id===id); if(!p) return; document.getElementById("modalLeft").innerHTML = <div style="height:520px;display:flex;align-items:center;justify-content:center"><img src="${p.img}" style="max-width:100%;max-height:100%;object-fit:contain"></div><div style="text-align:center;margin-top:8px"><a href="${p.img}" target="_blank" class="small">–°—É—Ä–µ—Ç—Ç—ñ –∂–∞“£–∞ “õ–æ–π—ã–Ω—à–∞–¥–∞ –∞—à—É</a></div>; document.getElementById("modalRight").innerHTML = <div style="padding:18px"><h3 style="margin:0">${escapeHtml(p.title)}</h3><div class="small">${escapeHtml(p.brand)}</div><div style="margin-top:12px">${escapeHtml(p.desc)}</div></div>; modal.classList.add("active"); } function closeModal(){ modal.classList.remove("active"); } /* ========== CART (localStorage) ========== */ const openCartBtn = document.getElementById("openCartBtn"); const cartPanel = document.getElementById("cartPanel"); const cartItemsEl = document.getElementById("cartItems"); const cartCountEl = document.getElementById("cartCount"); const cartTotalEl = document.getElementById("cartTotal"); const closeCartBtn = document.getElementById("closeCart"); const checkoutBtn = document.getElementById("checkoutBtn"); const clearCartBtn = document.getElementById("clearCartBtn"); function addToCart(id, qty=1){ if(!CART[id]) CART[id]=0; CART[id]+=qty; saveCart(); updateCartUI(); } function removeFromCart(id){ delete CART[id]; saveCart(); updateCartUI(); } function setQty(id, qty){ if(qty<=0){ removeFromCart(id); return; } CART[id]=qty; saveCart(); updateCartUI(); } function updateCartUI(){ const items = Object.keys(CART).map(k=>({product:PRODUCTS.find(p=>p.id==k), qty:CART[k]})); cartItemsEl.innerHTML = ""; if(!items.length){ cartItemsEl.innerHTML = '<div class="small center">–°–µ–±–µ—Ç –±–æ—Å</div>'; cartTotalEl.textContent="0 ‚Ç∏"; cartCountEl.textContent="0"; return; } let total=0; items.forEach(it=>{ const el = document.createElement("div"); el.className="cart-item"; el.innerHTML = <img src="${it.product.img}"><div style="flex:1"><div style="font-weight:700">${escapeHtml(it.product.title)}</div><div class="small">${escapeHtml(it.product.brand)}</div><div style="display:flex;gap:8px;margin-top:8px"><input type="number" value="${it.qty}" min="1" data-id="${it.product.id}" style="width:76px;padding:6px;border-radius:8px;border:1px solid #eee"><button class="btn secondary" data-remove="${it.product.id}">”®—à—ñ—Ä—É</button></div></div><div style="text-align:right"><div style="font-weight:800">${formatPrice(it.product.price*it.qty)}</div></div>; cartItemsEl.appendChild(el); total += it.product.price * it.qty; }); // attach listeners cartItemsEl.querySelectorAll('input[type=number]').forEach(inp=> inp.addEventListener('change', function(){ setQty(Number(this.dataset.id), Math.max(1, Number(this.value)||1)); })); cartItemsEl.querySelectorAll('button[data-remove]').forEach(b=> b.addEventListener('click', function(){ removeFromCart(Number(this.dataset.remove)); })); cartTotalEl.textContent = formatPrice(total); cartCountEl.textContent = items.reduce((s,i)=>s+i.qty,0); } openCartBtn.addEventListener("click", ()=>{ cartPanel.classList.toggle("active"); updateCartUI(); }); closeCartBtn.addEventListener("click", ()=> cartPanel.classList.remove("active")); checkoutBtn.addEventListener("click", ()=>{ if(Object.keys(CART).length===0){ alert('–°–µ–±–µ—Ç –±–æ—Å'); return;} alert('–¢–∞–ø—Å—ã—Ä—ã—Å “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã (–¥–µ–º–æ). –ë—ñ–∑ —Å—ñ–∑–±–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å–∞–º—ã–∑.'); CART={}; saveCart(); updateCartUI(); cartPanel.classList.remove('active'); }); clearCartBtn.addEventListener("click", ()=>{ if(confirm('–°–µ–±–µ—Ç—Ç—ñ –±–æ—Å–∞—Ç–∞—Å—ã–∑ –±–∞?')){ CART={}; saveCart(); updateCartUI(); } }); /* ========== ANIMATION FOR ADD ========== */ function animateAdd(btn){ try{ const rect = btn.getBoundingClientRect(); const dot = document.createElement("div"); dot.style.position="fixed"; dot.style.left = rect.left + rect.width/2 + "px"; dot.style.top = rect.top + "px"; dot.style.width="12px"; dot.style.height="12px"; dot.style.borderRadius="50%"; dot.style.background="linear-gradient(90deg,#ffd7c9,#b8876a)"; dot.style.zIndex=9999; document.body.appendChild(dot); const cartRect = openCartBtn.getBoundingClientRect(); const midX = cartRect.left + cartRect.width/2; const midY = cartRect.top + cartRect.height/2; dot.animate([{transform:'translate(0,0) scale(1)',opacity:1},{transform:translate(${midX-rect.left}px, ${midY-rect.top}px) scale(.4),opacity:0.6}],{duration:700,easing:'cubic-bezier(.2,.9,.2,1)'}); setTimeout(()=>dot.remove(),720); }catch(e){} } /* ========== FEEDBACK / CONTACT (frontend only) ========== */ const fbForm = document.getElementById("feedbackForm"); const fbList = document.getElementById("feedbackList"); const fbKey = STORAGE.FEEDBACK; function loadFeedbacks(){ const raw = localStorage.getItem(fbKey); return raw ? JSON.parse(raw) : []; } function saveFeedbacks(arr){ localStorage.setItem(fbKey, JSON.stringify(arr)); } function renderFeedbacks(){ const arr = loadFeedbacks(); if(!arr.length){ fbList.innerHTML = "<div class='small center'>–•–∞–±–∞—Ä–ª–∞–º–∞–ª–∞—Ä –∂–æ“õ</div>"; return; } fbList.innerHTML = arr.map(f=><div style="padding:8px;border-bottom:1px solid #f0f0f0"><div style="font-weight:700">${escapeHtml(f.name)}</div><div class="small">${escapeHtml(f.email)}</div><div style="margin-top:6px">${escapeHtml(f.msg)}</div><div class="small" style="color:#999;margin-top:6px">${new Date(f.date).toLocaleString()}</div></div>).join(""); } fbForm.addEventListener("submit",(e)=>{ e.preventDefault(); const name = document.getElementById("fbName").value.trim(); const email = document.getElementById("fbEmail").value.trim(); const msg = document.getElementById("fbMsg").value.trim(); if(!name||!email||!msg){ alert("–ë–∞—Ä–ª—ã“õ ”©—Ä—ñ—Å—Ç–µ—Ä–¥—ñ —Ç–æ–ª—Ç—ã—Ä—ã“£—ã–∑"); return; } const arr = loadFeedbacks(); arr.unshift({name,email,msg,date:Date.now()}); saveFeedbacks(arr); renderFeedbacks(); fbForm.reset(); alert("–•–∞–±–∞—Ä–ª–∞–º–∞ –∂—ñ–±–µ—Ä—ñ–ª–¥—ñ ‚Äî —Ä–∞—Ö–º–µ—Ç!"); }); document.getElementById("saveDraft").addEventListener("click", ()=>{ const draft = { name:document.getElementById("fbName").value, email:document.getElementById("fbEmail").value, msg:document.getElementById("fbMsg").value }; localStorage.setItem("parfum_feedback_draft", JSON.stringify(draft)); alert("–ñ–æ–±–∞ –∂–µ—Ä–≥—ñ–ª—ñ–∫—Ç—ñ —Ç“Ø—Ä–¥–µ —Å–∞“õ—Ç–∞–ª–¥—ã"); }); /* restore draft if exists */ const draftRaw = localStorage.getItem("parfum_feedback_draft"); if(draftRaw){ try{ const d = JSON.parse(draftRaw); document.getElementById("fbName").value=d.name||""; document.getElementById("fbEmail").value=d.email||""; document.getElementById("fbMsg").value=d.msg||""; }catch(e){} } renderFeedbacks(); /* ========== INIT ========== */ function formatPrice(n){ return String(Math.round(Number(n)||0)).replace(/\B(?=(\d{3})+(?!\d))/g,",") + " ‚Ç∏"; } function escapeHtml(s){ return String(s||"").replace(/[&<>"']/g, m=>({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","":"&#96;"}[m])); } function debounce(fn,wait){ let t; return (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a), wait); }; } /* prepare UI */ renderBrandFilters(); applyFilters(); // will call renderProducts updateCartUI(); document.getElementById("year").textContent = new Date().getFullYear(); /* routing - very small */ const views = { "/": ()=>{ document.getElementById("catalogView").style.display=""; document.getElementById("contactView").style.display="none"; highlightNav("/"); }, "/catalog": ()=>{ document.getElementById("catalogView").style.display=""; document.getElementById("contactView").style.display="none"; highlightNav("/catalog"); }, "/contact": ()=>{ document.getElementById("catalogView").style.display="none"; document.getElementById("contactView").style.display=""; highlightNav("/contact"); } }; function highlightNav(route){ document.querySelectorAll('.nav-link').forEach(a=>a.classList.toggle('active', a.dataset.route===route)); } function router(){ const h = location.hash.replace("#","")||"/"; (views[h]||views["/"])(); } window.addEventListener("hashchange", router); router(); document.getElementById("toCatalog").addEventListener("click", ()=> location.hash="#/catalog"); </script> </body> </html># -
